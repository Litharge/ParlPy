# todo bill_details_iterator
#   function shall take a DataFrame generated by BillsOverview and yield the details for each bill in series
#   it shall call get_summary(path), get_votes(bill_name) for each item in the DataFrame
import parlpy.bills.bill_list_fetcher as blf
import parlpy.bills.summary_fetcher as sf

def get_bill_details(overview: blf.BillsOverview):
    # construct
    for b in overview.bills_overview_data.itertuples():
        # print(b)
        # get the details path and use it to get summary for the bill
        detail_path = b[3]
        summary = sf.get_summary(detail_path)

        yield summary